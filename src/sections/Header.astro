---
import { Image } from "astro:assets";
import LogoImg from "@/assets/logo.png";
import { COMPANY_NAME } from "@/constants";
import { Icon } from "astro-icon/components";
---

<header class="header">
  <nav class="nav">
    <a class="nav__logo">
      <Image class="nav__logo__img" src={LogoImg} alt="Logo" />
      <h1 class="nav__logo__text">{COMPANY_NAME}</h1>
    </a>

    <button class="button button--menu">
      <Icon class="button__icon button__icon--menu" name="tabler:menu-2" />
    </button>

    <ul class="menu menu--header">
      <li class="menu__item menu__item--header">
        <div class="menu__item-container">
          <header class="menu__item__header">
            <a class="nav__logo">
              <Image class="nav__logo__img" src={LogoImg} alt="Logo" />
              <h1 class="nav__logo__text">{COMPANY_NAME}</h1>
            </a>
            <button class="button button--menu-close"
              ><Icon class="button__icon" name="tabler:x" /></button
            >
          </header>
          <div class="menu__item__content">
            <p class="menu__item__description">
              Anticípate a lo inesperado. En QuakeNet, ayudamos a las empresas
              en Perú a gestionar y reducir el riesgo sísmico, protegiendo sus
              operaciones con tecnología avanzada e información confiable.
            </p>

            <ul class="menu menu--network-socials">
              <li class="menu__item menu__item--link">
                <a class="menu__item__link menu__item__link--network-social" href="#">
                  <Icon class="menu__item__icon"  name="tabler:brand-instagram" />
                </a>
              </li>
              <li class="menu__item menu__item--link">
                <a class="menu__item__link menu__item__link--network-social" href="#">
                  <Icon class="menu__item__icon" name="tabler:brand-facebook" />
                </a>
              </li>
            </ul>
          </div>
        </div>
      </li>
      <li class="menu__item menu__item--header">
        <a class="menu__item__link" href="#soluciones">Soluciones</a>
      </li>
      <li class="menu__item menu__item--header">
        <a class="menu__item__link" href="/sobre-nosotros">Sobre Nosotros</a>
      </li>
      <li class="menu__item menu__item--header">
        <a class="menu__item__link" href="/blog">Blog</a>
      </li>
    </ul>

    <div class="overlay"></div>

    <div class="nav__links">
      <a class="button button--header button--outlined">Contáctanos</a>
      <a class="button button--header">
        Lista de espera
        <Icon class="button__icon" name="tabler:checklist" />
      </a>
    </div>
  </nav>
</header>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const menuButton = document.querySelector(".button--menu");
    const menuCloseButton = document.querySelector(".button--menu-close");
    const menu = document.querySelector(".menu");
    const overlay = document.querySelector(".overlay");

    menuButton.addEventListener("click", () => {
      menu.classList.add("menu--open");
      overlay.classList.add("overlay--open");
    });

    menuCloseButton.addEventListener("click", () => {
      menu.classList.remove("menu--open");
      overlay.classList.remove("overlay--open");
    });

    overlay.addEventListener("click", () => {
      menu.classList.remove("menu--open");
      overlay.classList.remove("overlay--open");
    });
  });
</script>
